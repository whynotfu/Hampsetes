/**
 * @file admin_page.h
 * @brief Панель администратора для управления казино
 * @author Development Team
 * @date 2025
 * @version 1.0
 * 
 * Этот файл содержит объявление класса admin_page, который реализует
 * административную панель для управления казино "Хампстерс". Панель
 * предоставляет инструменты для мониторинга пользователей, управления
 * балансами и просмотра статистики системы.
 */

#ifndef ADMIN_PAGE_H
#define ADMIN_PAGE_H

#include <QDialog>
#include <QTableWidget>
#include <QLineEdit>
#include <QPushButton>
#include "clientapi.h"

namespace Ui {
class admin_page;
}

/**
 * @brief Административная панель для управления казино
 * 
 * Класс admin_page предоставляет интерфейс администратора для управления
 * системой казино "Хампстерс". Функциональность включает:
 * - Просмотр списка всех зарегистрированных пользователей
 * - Мониторинг балансов и игровой активности
 * - Управление балансами пользователей (пополнение/списание)
 * - Просмотр статистики игр и доходов
 * - Административные действия с аккаунтами
 * 
 * Доступ к панели имеют только пользователи с административными правами.
 * Все действия администратора логируются для обеспечения безопасности.
 */
class admin_page : public QDialog
{
    Q_OBJECT

public:
    /**
     * @brief Конструктор административной панели
     * @param parent Родительский виджет
     */
    explicit admin_page(QWidget *parent = nullptr);
    
    /**
     * @brief Деструктор административной панели
     */
    ~admin_page();
    
    /**
     * @brief Просмотр статистики системы
     * 
     * Загружает и отображает общую статистику казино:
     * - Количество зарегистрированных пользователей
     * - Общий оборот по играм
     * - Активность пользователей
     * - Финансовые показатели
     */
    void viewStatistics();
    
    /**
     * @brief Показать административную панель
     * 
     * Отображает интерфейс админ-панели и загружает актуальные данные
     * о пользователях и состоянии системы
     */
    void slot_show();

private slots:
    /**
     * @brief Пополнить баланс пользователя
     * 
     * Обрабатывает запрос на пополнение баланса указанного пользователя:
     * - Проверяет корректность введенных данных
     * - Отправляет запрос на сервер для изменения баланса
     * - Обновляет отображение данных в таблице
     * - Логирует административное действие
     */
    void addMoneyToUser();

private:
    Ui::admin_page *ui;          ///< Пользовательский интерфейс панели
    ClientApi *clientApi;        ///< API для взаимодействия с сервером

    QTableWidget *tableWidget;   ///< Таблица со списком пользователей и их данными
    QLineEdit *user_to_send;     ///< Поле ввода логина пользователя для операций
    QLineEdit *amount_to_send;   ///< Поле ввода суммы для пополнения/списания
};

#endif // ADMIN_PAGE_H
