/**
 * @file personal_page.h
 * @brief Заголовочный файл персональной страницы пользователя
 * @author Команда разработчиков
 * @date 2025
 * @version 1.0
 * 
 * Содержит объявление класса personal_page, который представляет
 * интерфейс личного кабинета пользователя с его статистикой и настройками.
 */

#ifndef PERSONAL_PAGE_H
#define PERSONAL_PAGE_H

#include <QDialog>

namespace Ui {
class personal_page;
}

/**
 * @brief Класс персональной страницы пользователя
 * 
 * Класс personal_page реализует интерфейс личного кабинета игрока,
 * где он может просматривать свою игровую статистику и управлять аккаунтом.
 * 
 * Функциональность страницы:
 * - Отображение текущего баланса робуксов
 * - Статистика по всем играм (количество игр, выигрыши, проигрыши)
 * - История последних игровых сессий
 * - Общий процент выигрышей
 * - Время регистрации и последней активности
 * - Настройки профиля пользователя
 * 
 * Страница предоставляет подробную аналитику игровой активности
 * для помощи игроку в отслеживании своих результатов.
 */
class personal_page : public QDialog
{
    Q_OBJECT

public:
    /**
     * @brief Конструктор персональной страницы
     * @param parent Родительский виджет (по умолчанию nullptr)
     * 
     * Инициализирует интерфейс личного кабинета и настраивает
     * элементы для отображения пользовательской статистики.
     */
    explicit personal_page(QWidget *parent = nullptr);
    
    /**
     * @brief Отображение статистики пользователя
     * @param currentUsername Имя пользователя для загрузки статистики
     * 
     * Загружает из базы данных и отображает на странице подробную
     * статистику указанного пользователя: баланс, количество игр,
     * выигрыши, проигрыши и другие показатели активности.
     */
    void displayUserStatistics(const QString& currentUsername);
    
    /**
     * @brief Слот для показа персональной страницы
     * 
     * Отображает личный кабинет пользователя и обновляет
     * всю статистическую информацию на текущий момент.
     */
    void slot_show();

    /**
     * @brief Деструктор персональной страницы
     * 
     * Освобождает ресурсы, используемые личным кабинетом.
     */
    ~personal_page();

private:
    /** @brief Указатель на UI объект персональной страницы */
    Ui::personal_page *ui;
};

#endif // PERSONAL_PAGE_H
